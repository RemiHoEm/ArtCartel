<div class="container">
  <div data-controller="popup" data-id="<%=@games_artwork.id%>">
    <div class="row">
      <div class="col-12">
        <div style="display: flex; justify-content: center; align-items: center; height: 100px;">
          <h1><%= @artwork.name %></h1>
        </div>
        <div style="display: flex; gap: 10px; flex; justify-content: center;">
          <p><%= @artwork.materials %></p>
          <p><%= @artwork.dimensions %></p>
          <p><%= @artwork.museum %></p>
        </div>
        <%= image_tag @artwork.photo, class: "d-block w-40 img-fluid rounded d-flex position-relative d-flex", alt: "Photo of #{@artwork.name}" %>

        <!-- Affichage des messages de scores -->
        <div id="distance-message" style="text-align: center; margin-top: 20px;">
          <%= @geo_message %> <!-- Affichage du score gÃ©ographique -->
        </div>
        <div id="time-message" style="text-align: center; margin-top: 20px;">
          <%= @time_message %> <!-- Affichage du score temporel -->
        </div>

        <div style="width: 100%; height: 100%;"
          data-controller="map"
          data-map-markers-value="<%= @markers.to_json %>"
          data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
        </div>

        <%= render "layouts/form-game", game: @game %>
      </div>
    </div>

    <div data-popup-target="rootPopup" class="my-popup" >
      <div class="my-popup-content">
        <div class="map_txt_popup_answer div">
          <div
            class="map_popup_answer"
            style="width: 100%; height: 180px;"
            data-controller="map"
            data-map-markers-value="<%= @markers.to_json %>"
            data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
          </div>
          <div class="div text_popup_answer h3">
            <!-- Affichage du score de l'artiste -->
            <p class="fw-bold mb-auto"><%= @artwork.artist %></p>
            <div class="p">Artist Score: <%= @best_artist_match %></div> <!-- Score de l'artiste -->
            <p class="fw-bold mb-auto"><%= @artwork.creation_date %></p>
            <div class="div">Geo Score: <%= @geo_score %></div> <!-- Score de la date -->
            <div class="div">Date Score: <%= @year_score %></div> <!-- Score de la date -->
          </div>
        </div>

        <div class="div d-flex justify-content-between">
          <div class="h3 ms-3">Geo Score</div>

          <div class="h2 fw-bold me-3">Total Score</div>
        </div>

        <div class="div footer_popup_answer d-flex justify-content-between">
          <a class="btn btn-primary" target="_blank" href="<%= @artwork.info_link %>">More Info</a>
          <%= link_to "Next", @next_page_path, class: "my-popup-close-btn btn-custom text-decoration-none" %>
        </div>
      </div>
    </div>
  </div>
</div>




